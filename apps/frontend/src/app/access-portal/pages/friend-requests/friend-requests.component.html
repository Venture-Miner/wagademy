<wagademy-navbar-authenticated></wagademy-navbar-authenticated>
<section class="container mx-auto">
  <div class="ml-3">
    <div
      id="redirect-home"
      class="text-secondary my-10 flex cursor-pointer items-center gap-2"
      [routerLink]="['/home']"
    >
      <i class="bi-arrow-left text-xl"></i>
      <span class="font-mono font-bold">Back</span>
    </div>
    <h1 class="text-secondary text-2xl font-bold">Followers Request</h1>
  </div>

  <div id="request-list" *ngFor="let request of requests">
    <div class="border-neutral-5 mx-3 border-b py-5 md:mx-0">
      <div
        [ngClass]="{
          'bg-neutral-2/5 duration-300 ease-in-out':
            request.status === 'accepted'
        }"
        class="flex flex-col justify-between gap-16 py-6 md:flex-row"
      >
        <div class="flex flex-col md:flex-row">
          <div class="ml-4 min-w-fit flex-col space-y-4">
            <img
              src="https://i.pravatar.cc/300"
              alt="avatar example"
              class="border-secondary h-28 w-28 rounded-full border-2 object-cover"
            />
          </div>
          <div
            class="text-neutral-2 ml-6 mt-3 flex flex-col space-y-2 self-start"
          >
            <div>
              <span class="text-neutral-1 mr-10 text-sm font-bold">NAME</span
              >{{ request.name }}
            </div>
            <div>
              <span class="text-neutral-1 mr-[52px] text-sm font-bold">AGE</span
              >{{ request.age }}
            </div>
            <p class="text-neutral-1 text-sm font-bold">INTEREST</p>
            <div
              class="grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"
            >
              <div
                id="interest-list"
                *ngFor="let interest of request.interest"
                class="bg-neutral-2/5 w-full rounded-full p-1 text-center"
              >
                <span>{{ interest }}</span>
              </div>
            </div>
          </div>
        </div>
        <div
          *ngIf="request.status === 'pending'"
          class="flex grow items-end justify-end gap-4"
        >
          <wagademy-button-secondary class="w-full sm:max-w-[208px]"
            >DELETE</wagademy-button-secondary
          >
          <wagademy-button-primary
            id="accept-button"
            class="w-full sm:max-w-[208px]"
            (click)="request.status = 'accepted'; accept()"
            >ACCEPT</wagademy-button-primary
          >
        </div>
        <div
          class="mr-4 mt-8 flex items-center justify-center space-x-4 text-center font-mono font-bold md:mt-0"
          *ngIf="request.status === 'accepted'"
        >
          <img src="../../assets/img/check-icon.svg" alt="check icon" />
          <p>Now you follow each other.</p>
        </div>
      </div>
    </div>
  </div>
</section>
